<!--
  Generated template for the ChatdocumentPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-buttons left>
            <button ion-button icon-only (click)="back()">
                <ion-icon name="arrow-back"></ion-icon>
            </button>
      </ion-buttons>
      
    <ion-title>Chat : {{to}}
      <span style="float: right;font-size: medium">
        <span style="background-color: lightblue;">{{result_timer}}</span>
        <span>{{timer2}}</span>
      </span>
    </ion-title>>
  </ion-navbar>

</ion-header>


<ion-content>
		<ion-row >
				<ion-col id='layout' col-lg-6 col-md-6 col-xs-12>
					<ion-grid>
						<ion-row *ngFor="let message of messages">
							<ion-col col-9 *ngIf="message.from!==loginUser" class="message" [ngClass]="{'my_message':message.from===loginUser, 'other_message':message.from!== loginUser}">
								<span class="user_name">{{message.from}}</span><br>
								<span>{{message.text}}</span>
								<div class="time">{{message.created}}</div>
							</ion-col>

							<ion-col offset-3 col-9 *ngIf="message.from===loginUser" class="message" [ngClass]="{'my_message':message.from===loginUser, 'other_message':message.from!== loginUser}">
								<span class="user_name">{{message.from}}</span><br>
								<span>{{message.text}}</span>
								<div class="time">{{message.created}}</div>
							</ion-col>
						</ion-row>
					</ion-grid>
				</ion-col>
			</ion-row>
</ion-content>

<ion-footer>
	<ion-toolbar>
		<ion-row class="message_row">
			<ion-col col-9>
				<ion-item no-lines>
					<ion-input type="text" [(ngModel)]="message"></ion-input>
				</ion-item>
			</ion-col>
			<ion-col col-3>
				<button ion-button clear color="primary" (click)="sendMessage()" [disabled]="message ===''">Send</button>
			</ion-col>
		</ion-row>
	</ion-toolbar>
</ion-footer>
